# Milestone Delivery :mailbox:

**The delivery is according to the official [milestone delivery guidelines](https://github.com/w3f/Grants-Program/blob/master/docs/Support%20Docs/milestone-deliverables-guidelines.md).**

* **Application Document:** [ink! Analyzer (Phase 2)](https://github.com/w3f/Grants-Program/blob/master/applications/ink-analyzer-phase-2.md)
* **Milestone Number:** 3

**Context** (optional)

Please see the [README](https://github.com/ink-analyzer/ink-analyzer#readme) for additional architectural details.

**Deliverables**

| Number  | Deliverable                                                                                                                                                                                                                                                                                                                            | Link                                                                                                                                                                                                                                                                                                                                                                                                                             | Notes                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|---------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **0a.** | License                                                                                                                                                                                                                                                                                                                                | [MIT](https://github.com/ink-analyzer/ink-analyzer/blob/master/LICENSE-MIT) or [Apache 2.0](https://github.com/ink-analyzer/ink-analyzer/blob/master/LICENSE-APACHE).                                                                                                                                                                                                                                                            | Dual-licensed under either of MIT or Apache 2.0 licenses at the downstream user's option.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **0b.** | Documentation                                                                                                                                                                                                                                                                                                                          | [Project README](https://github.com/ink-analyzer/ink-analyzer#readme) and [semantic analyzer (ink-analyzer) crate README](https://github.com/ink-analyzer/ink-analyzer/tree/master/crates/analyzer#readme) on GitHub, [semantic analyzer crate (ink-analyzer) rustdoc](https://docs.rs/ink-analyzer/latest/ink_analyzer/) documentation on docs.rs and extensive inline source documentation.                                    | The semantic analyzer crate's README is published on both [GitHub](https://github.com/ink-analyzer/ink-analyzer/tree/master/crates/analyzer#readme) and [crates.io](https://crates.io/crates/ink-analyzer). It contains instructions for installation and usage, and links to crate specific documentation on docs.rs.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **0c.** | Testing and Testing Guide                                                                                                                                                                                                                                                                                                              | [Testing guide](https://github.com/ink-analyzer/ink-analyzer#testing).                                                                                                                                                                                                                                                                                                                                                           | See notes for each deliverable below for details about unit and integration tests. In general, unit tests are defined in related modules/submodules, while integration tests are found in the [tests directory of the semantic analyzer (ink-analyzer) crate](https://github.com/ink-analyzer/ink-analyzer/tree/master/crates/analyzer/tests) (e.g. [tests/diagnostics](https://github.com/ink-analyzer/ink-analyzer/blob/master/crates/analyzer/tests/diagnostics.rs)) with related fixtures found in [test-utils/fixtures](https://github.com/ink-analyzer/ink-analyzer/blob/master/crates/test-utils/src/fixtures.rs). Checking out the [parse_offset_at](https://github.com/ink-analyzer/ink-analyzer/blob/master/crates/test-utils/src/lib.rs#L55-L86) utility may be useful as it is extensively used in both the unit and integration tests. All features in this milestone can also be manually tested using the latest version of the [VS Code Extension](https://marketplace.visualstudio.com/items?itemName=ink-analyzer.ink-analyzer). For instructions for manual feature testing, refer to the [VS Code extension's "Manual Feature Testing Guide"](https://github.com/ink-analyzer/ink-vscode/blob/master/TESTING.md). |
| **0d.** | Docker                                                                                                                                                                                                                                                                                                                                 | [Dockerfile](https://github.com/ink-analyzer/ink-analyzer/blob/master/Dockerfile).                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| 1.      | Semantic Analyzer: Rust crate update: Diagnostics that verify resolution of path expressions for `env` for `#[ink::contract]` and `environment` for `#[ink_e2e::test]` argument values as well as quick fixes that either fix paths (e.g. by fixing or adding a qualifier) or suggest paths to valid item definitions (where possible) | [GitHub repository](https://github.com/ink-analyzer/ink-analyzer) and the [ensure_resolvable](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/src/analysis/diagnostics/environment.rs#L32-L135) utility in the [diagnostics/environment](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/src/analysis/diagnostics/environment.rs) submodule.               | At the highest level, this feature is implemented by the [ensure_resolvable](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/src/analysis/diagnostics/environment.rs#L32-L135) utility in the [diagnostics/environment](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/src/analysis/diagnostics/environment.rs) submodule. [Unit tests](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/src/analysis/diagnostics/environment.rs#L564-L682) are found in the `diagnostics/environment` submodule and [integration tests](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/tests/diagnostics.rs) are found in the `tests/diagnostics` module, while related fixtures in [test-utils/fixtures](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/test-utils/src/fixtures.rs#L9-L1544) have been updated with [environment argument resolution test cases](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/test-utils/src/fixtures.rs#L950-L971).                                                                                           |
| 2.      | Semantic Analyzer: Rust crate update: Diagnostics that verify that `env` values for `#[ink::contract]` and `environment` values for `#[ink_e2e::test]` are `impl Environment` as well as quick fixes to `impl Environment` for the target item where necessary                                                                         | [GitHub repository](https://github.com/ink-analyzer/ink-analyzer) and the [ensure_impl_environment](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/src/analysis/diagnostics/environment.rs#L137-L193) utility in the [diagnostics/environment](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/src/analysis/diagnostics/environment.rs) submodule.        | At the highest level, this feature is implemented by the [ensure_impl_environment](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/src/analysis/diagnostics/environment.rs#L137-L193) utility in the [diagnostics/environment](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/src/analysis/diagnostics/environment.rs) submodule. [Unit tests](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/src/analysis/diagnostics/environment.rs#L684-L875) are found in the `diagnostics/environment` submodule and [integration tests](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/tests/diagnostics.rs) are found in the `tests/diagnostics` module, while related fixtures in [test-utils/fixtures](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/test-utils/src/fixtures.rs#L9-L1544) have been updated with [`ink::env::Environment` implementation test cases](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/test-utils/src/fixtures.rs#L972-L993).                                                                             |
| 3.      | Semantic Analyzer: Rust crate update: Diagnostics that verify that ink! trait definition `impl` blocks implement all associated methods as well as quick fixes for implementing missing methods where necessary                                                                                                                        | [GitHub repository](https://github.com/ink-analyzer/ink-analyzer) and the [ensure_trait_definition_impl_invariants](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/src/analysis/diagnostics/ink_impl.rs#L357-L598) utility in the [diagnostics/ink_impl](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/src/analysis/diagnostics/ink_impl.rs) submodule. | At the highest level, this feature is implemented by the [ensure_trait_definition_impl_invariants](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/src/analysis/diagnostics/ink_impl.rs#L357-L598) utility in the [diagnostics/ink_impl](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/src/analysis/diagnostics/ink_impl.rs) submodule. [Unit tests](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/src/analysis/diagnostics/ink_impl.rs#L1485-L1727) are found in the `diagnostics/ink_impl` submodule and [integration tests](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/analyzer/tests/diagnostics.rs) are found in the `tests/diagnostics` module, while related fixtures in [test-utils/fixtures](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/test-utils/src/fixtures.rs#L9-L1544) have been updated with [trait definition implementation test cases](https://github.com/ink-analyzer/ink-analyzer/blob/analyzer-v0.8.13/crates/test-utils/src/fixtures.rs#L1322-L1431).                                                                               |

**Additional Information**

Please use the [analyzer-v0.8.13](https://github.com/ink-analyzer/ink-analyzer/releases/tag/analyzer-v0.8.13) tag for testing.

You can checkout the tag locally as follows:
```shell
git fetch --all --tags
git checkout tags/analyzer-v0.8.13 -b analyzer-v0.8.13
```
