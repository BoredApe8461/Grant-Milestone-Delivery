# Milestone Delivery :mailbox:

**The [invoice form :pencil:](https://docs.google.com/forms/d/e/1FAIpQLSfmNYaoCgrxyhzgoKQ0ynQvnNRoTmgApz9NrMp-hd8mhIiO0A/viewform) has been filled out correctly for this milestone and the delivery is according to the official [milestone delivery guidelines](https://github.com/w3f/Grants-Program/blob/master/docs/milestone-deliverables-guidelines.md).**  

* **Application Document:** https://github.com/w3f/Grants-Program/blob/master/applications/logion_wallet.md
* **Milestone Number:** 3

**Context**

This milestone is about delivering a distributed backup scheme for logion's private data. It consists in
- streaming data out of the private Postgres database of each logion node and generate full dumps on a regular time basis,
- encrypting them,
- storing encrypted files into a private IPFS cluster with some replication for increased fault tolerance.

To achieve this, a new component called the Logion Postgres Backup Manager (LPBM) has been developed (see below for more details).

**Deliverables**

| Number | Deliverable | Link | Notes |
| ------------- | ------------- | ------------- |------------- |
| 0a. | License | / | LPBM is published under Apache 2.0 license, see the LICENSE file in the repository below. |
| 0b. | Documentation | / | See README file in the repository below. |
| 0c. | Testing Guide | [Logion Test README](https://github.com/logion-network/logion-test/tree/grant1-milestone2-4#readme) | LPBM comes with a set of unit and integration tests but in order to test it in "real" conditions, it is advised to instantiate logion locally. This can be easily done using Docker Compose and [Logion Test](https://github.com/logion-network/logion-test/tree/grant1-milestone2-4), a project enabling the easy deployment of logion for testing purpose. Logion test's `grant1-milestone2-4` branch must be checked out and the `.env` file properly set up (just `cp .env.sample .env`) before following the README. The process to execute is described in the README [here](https://github.com/logion-network/logion-test/tree/grant1-milestone2-4#distributed-backup-test). LPBM's README also provides a [test procedure](https://github.com/logion-network/logion-pg-backup-manager/tree/v0.1.0#test-it) which does not require a full logion setup. |
| 0d. | Docker | [Logion Test docker-compose file](https://github.com/logion-network/logion-test/blob/grant1-milestone2-4/docker-compose.yml) | LPBM is packaged as a Docker image, follow the link or see the project's README for more details about how to configure it. The image is available from [DockerHub](https://hub.docker.com/u/logionnetwork). |
| 1. | Logion Postgres Backup Manager (LPBM) | [GitHub repository @ tag v0.1.0](https://github.com/logion-network/logion-pg-backup-manager/tree/v0.1.0) | We deliver LPBM, a CLI tool written in Node.JS/TypeScript and meant to be run as a deamon service. LPBM essentially interacts with Postgres clients and transforms logs generated by the PostgreSQL server. The [project's README](https://github.com/logion-network/logion-pg-backup-manager/tree/v0.1.0#readme) describes in greater detail how LPBM works. Tests may be found in [this folder](https://github.com/logion-network/logion-pg-backup-manager/tree/v0.1.0/test). |

**Additional Information**

The last 3 milestones of our grant are submitted at the same time but in different PRs.
